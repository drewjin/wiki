---
title: "Git é€Ÿé€šæŒ‡å— | Part 2: åˆ†æ”¯ä¸å­æ¨¡å—"
---

åœ¨ [Git é€Ÿé€šæŒ‡å— | Part 1: åŸºç¡€](../git-speedrun-guide-part-1-basics/) ä¸­, æˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¦‚ä½•åˆ›å»º Git å‚¨å­˜åº“, å¦‚ä½• `add` å’Œ `commit` æ›´æ”¹, ä»¥åŠå¦‚ä½•è¿›è¡Œ `push` ä»¥åŠ `pull` æ“ä½œ. æœ¬æ–‡å°†ç»§ç»­ä»‹ç» Git çš„åˆ†æ”¯ä¸å­æ¨¡å—çš„ä½¿ç”¨.

## 0. å‡†å¤‡å·¥ä½œ

è¯·ä¿è¯æœ¬åœ°æœ‰ä¸€ä¸ªä¸è¿œç¨‹ä»“åº“å…³è”çš„ Git å‚¨å­˜åº“. å¦‚æœæ²¡æœ‰, è¯·å‚è€ƒ [Git é€Ÿé€šæŒ‡å— | Part 1: åŸºç¡€](../git-speedrun-guide-part-1-basics/) ç¬¬ 4 èŠ‚åˆ›å»ºä¸€ä¸ªè¿œç¨‹å‚¨å­˜åº“, ç„¶åç›´æ¥ `clone` è‡³æœ¬åœ°.

## 1. åˆ†æ”¯

### 1.1. åˆ›å»ºå’Œåˆ‡æ¢åˆ†æ”¯

åœ¨æœ¬åœ° Git å‚¨å­˜åº“ä¸‹æ‰“å¼€ç»ˆç«¯, è¾“å…¥ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ `feature`:

```bash
git switch -c feature
```


> ğŸ’¡ å½“åŸºäºå½“å‰åˆ†æ”¯åˆ›å»ºäº†ä¸€ä¸ªæ–°åˆ†æ”¯æ—¶, æ–°åˆ†æ”¯ä¼šç»§æ‰¿å½“å‰åˆ†æ”¯çš„æ‰€æœ‰ `commit` è®°å½•; å¯ä»¥è®¤ä¸ºæ–°åˆ†æ”¯å…‹éš†äº†å½“å‰åˆ†æ”¯.


æŸ¥çœ‹æœ¬åœ°å‚¨å­˜åº“æœ‰å“ªäº›åˆ†æ”¯:

```bash
git branch
```

æŸ¥çœ‹è¿œç¨‹å‚¨å­˜åº“æœ‰å“ªäº›åˆ†æ”¯:

```bash
git branch -r
```

é€šè¿‡ `git branch` ä½ åº”è¯¥è§‚å¯Ÿåˆ°å½“å‰æˆ‘ä»¬åœ¨æœ¬åœ°çš„ `feature` åˆ†æ”¯ä¸Š; å¦‚æœæ²¡æœ‰, é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ‡æ¢åˆ° `feature` åˆ†æ”¯:

```bash
git switch feature
```

åœ¨å½“å‰è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ `feature.txt` å¹¶å†™å…¥ "This is a feature file."; å°†æ›´æ”¹ `add` å’Œ `commit` åˆ°æœ¬åœ°å‚¨å­˜åº“:

```bash
echo "This is a feature file." > feature.txt
git add feature.txt
git commit -m "Add feature file"
```

è¿™æ¬¡ `commit` è®°å½•ä»…åœ¨ `feature` åˆ†æ”¯ä¸Š, å¹¶ä¸ä¼šå½±å“ `main` åˆ†æ”¯. åˆ‡æ¢åˆ° `main` åˆ†æ”¯, å¯ä»¥çœ‹åˆ° `feature.txt` æ–‡ä»¶å¹¶ä¸å­˜åœ¨:

```bash
git switch main
ls  # List files in current directory
```

### 1.2. `merge` åˆ†æ”¯

ç”±äº `feature` åˆ†æ”¯ä¸Šçš„æ›´æ”¹å·²ç» `commit`, æˆ‘ä»¬å¸Œæœ›å°† `feature` åˆ†æ”¯ä¸Šçš„æ›´æ”¹åˆå¹¶åˆ° `main` åˆ†æ”¯ä¸Š. åˆ‡æ¢åˆ° `main` åˆ†æ”¯, å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤:

```bash
git switch main
git merge feature  # Merge feature to main
```

æ­¤æ—¶åœ¨ `main` åˆ†æ”¯ä¸‹, é€šè¿‡ `ls` å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°å·²æœ‰ `feature.txt` æ–‡ä»¶. ä» `commit` è®°å½•æ¥çœ‹, `main` åˆ†æ”¯ä¸Šçš„ `commit` è®°å½•å·²ç»åŒ…å«äº† `feature` åˆ†æ”¯ä¸Šçš„æ‰€æœ‰ `commit` è®°å½•.

### 1.3. å†²çªå¤„ç†

å†²çªå‘ç”Ÿåœ¨ `merge` è¿‡ç¨‹ä¸­. ä¾‹å¦‚, å½“ `main` åˆ†æ”¯å’Œ `feature` åˆ†æ”¯ä¸Šçš„åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€è¡Œéƒ½è¢«ä¿®æ”¹æ—¶, Git æ— æ³•è‡ªåŠ¨å†³å®šå¦‚ä½•åˆå¹¶è¿™ä¸¤ä¸ªæ›´æ”¹, ä»è€Œäº§ç”Ÿå†²çª.

æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•æ¨¡æ‹Ÿå†²çªäº§ç”Ÿè¿‡ç¨‹å¹¶å¤„ç†å†²çª.

é¦–å…ˆåˆ‡æ¢åˆ° `main` åˆ†æ”¯, ä¿®æ”¹ `feature.txt` æ–‡ä»¶, åœ¨ "This is a feature file." è¿™è¡Œæœ«å°¾æ·»åŠ  "mmm", æœ€ç»ˆæ–‡ä»¶å†…å®¹ä¸º "This is a feature file.mmm". `add` å’Œ `commit` æ›´æ”¹.

æ¥ç€åˆ‡æ¢åˆ° `feature` åˆ†æ”¯, ä¿®æ”¹ `feature.txt` æ–‡ä»¶, åœ¨ "This is a feature file." è¿™è¡Œæœ«å°¾æ·»åŠ  "fff", æœ€ç»ˆæ–‡ä»¶å†…å®¹ä¸º "This is a feature file.fff". `add` å’Œ `commit` æ›´æ”¹.

åˆ‡æ¢å› `main` åˆ†æ”¯, è¾“å…¥ä»¥ä¸‹å‘½ä»¤åˆå¹¶ `feature` åˆ†æ”¯:

```bash
git merge feature
```

ç»ˆç«¯æç¤ºå¦‚ä¸‹:

```
Auto-merging feature.txt
CONFLICT (content): Merge conflict in feature.txt
Automatic merge failed; fix conflicts and then commit the result.
```

è¯´æ˜åˆå¹¶è¿‡ç¨‹ä¸­å‘ç”Ÿäº†å†²çª. æ­¤æ—¶æŸ¥çœ‹ `feature.txt` æ–‡ä»¶, ä¼šå‘ç°æ–‡ä»¶å†…å®¹å¦‚ä¸‹:

```
<<<<<<< HEAD
This is a feature file. mmm
=======
This is a feature file. fff
>>>>>>> feature
```

ä»ä¸Šé¢çš„å†…å®¹å¯ä»¥çœ‹å‡º, `<<<<<<< HEAD` åˆ° `=======` ä¹‹é—´çš„å†…å®¹æ˜¯ `main` åˆ†æ”¯ä¸Šçš„å†…å®¹ (å³å½“å‰åˆ†æ”¯ `HEAD`), `=======` åˆ° `>>>>>>> feature` ä¹‹é—´çš„å†…å®¹æ˜¯ `feature` åˆ†æ”¯ä¸Šçš„å†…å®¹. æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è§£å†³è¿™ä¸ªå†²çª.

è§£å†³å†²çªçš„æ–¹å¼éå¸¸ç®€å•, æ‰‹åŠ¨é€‰æ‹©ä¿ç•™å“ªéƒ¨åˆ†å†…å®¹å³å¯. æ¯”å¦‚æŠŠä¸Šé¢çš„å†…å®¹å…¨éƒ¨åˆ é™¤, åªä¿ç•™ `feature` åˆ†æ”¯çš„æ›´æ”¹, æœ€ç»ˆæ–‡ä»¶å†…å®¹ä¸º "This is a feature file.fff". 

åœ¨ `main` åˆ†æ”¯ä¸Š `add` å’Œ `commit` æ›´æ”¹å, å°±å®Œæˆäº† `merge` `feature` åˆ†æ”¯å¹¶è§£å†³å†²çªçš„æ‰€æœ‰è¿‡ç¨‹.

> ğŸ’¬ ä»è¿œç¨‹ Git å‚¨å­˜åº“ `pull` æ–°ç‰ˆæœ¬æ—¶, ä¹Ÿå¯èƒ½å‡ºç°å†²çªæƒ…å†µ. æ­¤æ—¶ä¹Ÿåªéœ€æ‰‹åŠ¨å¤„ç†å†²çªå³å¯.

### 3.4. åˆ é™¤æœ¬åœ°åˆ†æ”¯

å½“ä¸€ä¸ªåˆ†æ”¯çš„å·¥ä½œå·²ç»å®Œæˆ, å¯ä»¥åˆ é™¤è¯¥åˆ†æ”¯. åˆ é™¤åˆ†æ”¯å‰, è¯·ç¡®ä¿è¯¥åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æ›´æ”¹å·²ç» `commit` å¹¶åˆå¹¶åˆ°å…¶ä»–åˆ†æ”¯ä¸Š. åˆ é™¤æœ¬åœ°åˆ†æ”¯ `feature`:

```bash
git branch -d feature
```

### 3.5. åˆ›å»ºè¿œç¨‹åˆ†æ”¯

æœ¬åœ°æ–°åˆ›å»ºçš„åˆ†æ”¯ `feature` å¹¶ä¸ä¼šè‡ªåŠ¨åŒæ­¥åˆ°è¿œç¨‹ä»“åº“. å¦‚æœéœ€è¦å°†æœ¬åœ°åˆ†æ”¯åŒæ­¥åˆ°è¿œç¨‹ä»“åº“, éœ€è¦æ‰‹åŠ¨ `push` è¯¥åˆ†æ”¯:

```bash
git push origin feature:feature
```

æ­¤æ—¶åœ¨è¿œç¨‹ä»“åº“ä¸­åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ–°çš„åˆ†æ”¯ `feature`.

### 3.6. åˆ é™¤è¿œç¨‹åˆ†æ”¯

åˆ é™¤è¿œç¨‹åˆ†æ”¯ `feature`:

```bash
git push origin --delete feature
```

## 2. å­æ¨¡å—

å­æ¨¡å—æ˜¯ Git ä»“åº“ä¸­çš„ä¸€ä¸ªä»“åº“. é€šè¿‡å­æ¨¡å—, æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ª Git ä»“åº“åµŒå¥—åˆ°å¦ä¸€ä¸ª Git ä»“åº“ä¸­. å­æ¨¡å—çš„ä½¿ç”¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç®¡ç†é¡¹ç›®çš„ä¾èµ–å…³ç³».

### 2.1. æ·»åŠ å­æ¨¡å—

åœ¨æœ¬åœ° Git å‚¨å­˜åº“ä¸‹æ‰“å¼€ç»ˆç«¯, è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ·»åŠ ä¸€ä¸ªå­æ¨¡å—:

```bash
git submodule add <URL> <RelativePath>
```

å…¶ä¸­ `<URL>` æ˜¯å­æ¨¡å—çš„ Git ä»“åº“åœ°å€, `<RelativePath>` æ˜¯å­æ¨¡å—åœ¨æœ¬åœ°å‚¨å­˜åº“ä¸­çš„ç›¸å¯¹è·¯å¾„. 

### 2.1. åˆå§‹åŒ–å­æ¨¡å—

ç›´æ¥ `clone` åŒ…å«å­æ¨¡å—çš„ Git ä»“åº“æ—¶, å­æ¨¡å—å¹¶ä¸ä¼šè¢«è‡ªåŠ¨åˆå§‹åŒ–. å› æ­¤éœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–å­æ¨¡å—:

```bash
git submodule update --init --recursive
```

### 2.3. æ›´æ–°å­æ¨¡å—

å¦‚æœå­æ¨¡å—çš„è¿œç¨‹ä»“åº“å‘ç”Ÿäº†æ›´æ”¹, éœ€è¦æ‰‹åŠ¨æ›´æ–°å­æ¨¡å—:

```bash
git submodule update --remote --recursive
```

### 2.4. åˆ é™¤å­æ¨¡å—

åˆ é™¤å­æ¨¡å—éœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:

1. åˆ é™¤ `.gitmodules` æ–‡ä»¶ä¸­å­æ¨¡å—çš„é…ç½®.
2. åˆ é™¤ `.git/config` æ–‡ä»¶ä¸­å­æ¨¡å—çš„é…ç½®.
3. åˆ é™¤å­æ¨¡å—çš„ç›®å½•.
4. åˆ é™¤ `.git/modules/<SubmodulePath>` æ–‡ä»¶å¤¹.
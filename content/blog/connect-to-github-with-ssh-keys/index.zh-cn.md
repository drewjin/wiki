---
title: "åˆ©ç”¨ SSH å¯†é’¥é“¾æ¥ GitHub"
---

## 1. ç®€ä»‹

SSH æ˜¯ä¸€ç§ç½‘ç»œåè®®, ç”¨äºè®¡ç®—æœºä¹‹é—´çš„åŠ å¯†ç™»å½•å’Œæ•°æ®ä¼ è¾“. ä¸€å¯¹ SSH å¯†é’¥ç”±ä¸€ä¸ªç§é’¥å’Œä¸€ä¸ªå…¬é’¥ç»„æˆ, ç§é’¥ä¿å­˜åœ¨æœ¬åœ°, å…¬é’¥ä¿å­˜åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Š.

ç®€å•æ¥è¯´: ä½ å°†å…¬é’¥åˆ†å‘ç»™å…¨ä¸–ç•Œ; ä»–äººç”¨ä½ çš„å…¬é’¥åŠ å¯†ä¿¡æ¯, åªæœ‰ä½ çš„ç§é’¥æ‰èƒ½è§£å¯†; ä½ ç”¨ä½ çš„ç§é’¥ç­¾åä¿¡æ¯, åªæœ‰ä½ çš„å…¬é’¥æ‰èƒ½éªŒè¯.

> ğŸ’¬ ç›®å‰æœ‰ä¸¤ç§ä¸»æµçš„ç®—æ³•ç”Ÿæˆå¯†é’¥, ä¸€ç§æ˜¯ rsa, å¦ä¸€ç§æ˜¯ ed25519. ed25519 æ˜¯ä¸€ç§ ECC ç®—æ³•, æ¯”èµ·ä¼ ç»Ÿçš„ rsa æ›´åŠ å®‰å…¨å’Œé«˜æ•ˆ. å‚è€ƒèµ„æ–™: [Ed25519: high-speed high-security signatures](http://ed25519.cr.yp.to/) .

æœ¬æ–‡ä½¿ç”¨ ed25519 ç®—æ³•ç”Ÿæˆå¯†é’¥.

**ğŸ’¡ é‡ç‚¹**
- å½“ä½ å°†ä¸€å¯¹ SSH å¯†é’¥ç»‘å®šåˆ°äº†ä½ çš„ GitHub è´¦å·å, ä½ å¯ä»¥åœ¨ä»»ä½•ç”µè„‘ä¸Šé€šè¿‡ç§é’¥è®¿é—®ä½ çš„ GitHub è´¦å·.
- ä½ å¯ä»¥ç”Ÿæˆé¢å¤–çš„å¯†é’¥, ç„¶åä¸“é—¨åˆ©ç”¨ä¸€å¯¹å¯†é’¥æ§åˆ¶ä¸€ä¸ªå‚¨å­˜åº“ (ç§°ä¸º Deploy Key). è¯¥å¯†é’¥åªèƒ½è®¿é—®ä¸€ä¸ªå‚¨å­˜åº“, è€Œä¸èƒ½è®¿é—®ä½ çš„è´¦å·.
- SSH è¿æ¥ GitHub é€šè¿‡ 443 ç«¯å£ (è€Œé 22 ç«¯å£). ç”±äºåœ¨å›½å†…è¿æ¥ GitHub èµ° 22 ç«¯å£å¾ˆå¯èƒ½è¢«å±è”½, å› æ­¤ä½¿ç”¨ SSH è¿æ¥ GitHub ä¼šæ›´åŠ ç¨³å®š.


## 2. ç”Ÿæˆä¸€å¯¹ SSH å¯†é’¥

åœ¨ä»»æ„ä½ç½®æ‰“å¼€ç»ˆç«¯ (**Windows ç”¨æˆ·è¯·æ‰“å¼€ Git Bash**), é€šè¿‡ä»¥ä¸‹å‘½ä»¤åœ¨å½“å‰ç”¨æˆ·çš„ä¸ªäººæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªå« `.ssh` çš„æ–‡ä»¶å¤¹ (å¦‚æœå·²ç»åˆ›å»º, ç»ˆç«¯ä¼šæŠ¥é”™è¯´æ–‡ä»¶å¤¹å·²å­˜åœ¨; å¿½è§†å³å¯):

```bash
mkdir ~/.ssh
```

é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€å¯¹ SSH å¯†é’¥:

```bash
ssh-keygen -t ed25519 -C "your@email.com" -f ~/.ssh/your-key-name
```

> ğŸ’¡ **å‘½ä»¤è§£é‡Š**
> - `ssh-keygen` è¡¨ç¤ºç”Ÿæˆ ssh å¯†é’¥
> - `-t ed25519` è¡¨ç¤ºä½¿ç”¨ ed25519 ç®—æ³•; å¦‚æœä½¿ç”¨ rsa ç®—æ³•, å»ºè®®è¾“å…¥ `-t rsa -b 4096`, å³ç”Ÿæˆ 4096 bits çš„å¯†é’¥
> - `-C "your@email.com"` æ˜¯å¯¹è¯¥å¯†é’¥çš„è¯´æ˜, å¼•å·å†…çš„ `your@email.com` å¯ä»¥æ›¿æ¢æˆä»»ä½•æ–‡å­—;
> - `-f ~/.ssh/your-key-name` æŒ‡å‡ºäº†å¯†é’¥çš„ç”Ÿæˆè·¯å¾„ä»¥åŠå¯†é’¥çš„æ–‡ä»¶å (å¯ä»¥æŒ‰éœ€æ›´æ”¹), æ–‡ä»¶åå¯ä»¥ä¾æ®è‡ªå·±çš„éœ€æ±‚æ›´æ”¹, ä½†æ˜¯ä¸è¦ä¿ç•™åç¼€å.

è¾“å…¥å‘½ä»¤åç»ˆç«¯æç¤ºè®¾ç½®å¯†é’¥çš„å¯†ç , å»ºè®®è®¾ç½®ä¸€ä¸ªå¯†ç .

> ğŸ“Œ **æ³¨æ„**: åœ¨ä½ è¾“å…¥å¯†ç æ—¶, ç»ˆç«¯çš„ç•Œé¢ä¸Šä¸ä¼šæ˜¾ç¤ºå‡ºç™½è‰²çš„è¾“å…¥å†…å®¹å­—ç¬¦ (çœ‹èµ·æ¥å’Œæ²¡è¾“å…¥ä¸€æ ·), è¿™æ˜¯å¯¹å‘¨å›´ç¯å¢ƒçš„é˜²èŒƒ.

å†æ¬¡è¾“å…¥ä¸åˆšåˆšç›¸åŒçš„å¯†ç , åŒ¹é…æˆåŠŸåæç¤ºå¯†é’¥æˆåŠŸç”Ÿæˆ, å¹¶è¾“å‡ºäº†å¯†é’¥çš„æŒ‡çº¹å’Œéšæœºå›¾åƒ; å¯ä»¥å¿½ç•¥è¿™äº›å†…å®¹.

> ğŸ’¡ **æ£€æŸ¥å¯†é’¥æ˜¯å¦æˆåŠŸç”Ÿæˆ**: é€šè¿‡å‘½ä»¤ `ls ~/.ssh` å¯ä»¥æŸ¥çœ‹è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶; ä½ åº”è¯¥è‡³å°‘çœ‹åˆ°ä¸¤ä¸ªæ–‡ä»¶, ä¸€ä¸ªæ˜¯ `your-key-name`, å¦ä¸€ä¸ªæ˜¯ `your-key-name.pub`, åˆ†åˆ«å¯¹åº”ç§é’¥å’Œå…¬é’¥.


## 3. ä¸ºå¯†é’¥é…ç½® config æ–‡ä»¶

è¿›å…¥è·¯å¾„ `~/.ssh` ; æ–°å»ºä¸€ä¸ªæ–‡ä»¶, å–åä¸º `config` (**ä¸è¦ä¿ç•™ä»»ä½•åç¼€å**); åœ¨æ–‡ä»¶æœ«å°¾åŠ å…¥ä»¥ä¸‹å†…å®¹ (`Identity File` æ˜¯ä½ çš„å¯†é’¥è·¯å¾„):

```
Host github.com
  Hostname ssh.github.com
  Port 443
  User git
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/your-key-name
  TCPKeepAlive yes
  IdentitiesOnly yes
```

## 4. å°†å…¬é’¥æ·»åŠ åˆ° GitHub

æ¥ç€æˆ‘ä»¬è¦åœ¨è‡ªå·±çš„ GitHub è´¦å·ä¸­æ·»åŠ å…¬é’¥, è¿™æ ·å°±å¯ä»¥å®ç°åˆ©ç”¨ç§é’¥è®¿é—® GitHub è´¦å·.

åœ¨ä½ çš„ç”µè„‘ä¸Š, å¤åˆ¶ `~/.ssh` è·¯å¾„ä¸‹ `your-key-name.pub` æ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹.

æ ¹æ® Fig.1:
1. æ‰“å¼€ Github, ç™»å½•è´¦å·, ç‚¹å‡»å³ä¸Šè§’å¤´åƒ;
2. ç‚¹å‡» `Settings` æŒ‰é’®è¿›å…¥è®¾ç½®é¡µ;
3. åœ¨é¡µé¢å·¦ä¾§æ ä¸­æ‰¾åˆ° `SSH and GPG keys` , ç‚¹å‡»è¿›å…¥;
4. ç‚¹å‡»å³ä¾§æŒ‰é’® `New SSH key` æ·»åŠ ä¸€ä¸ª ssh å…¬é’¥;
5. ä¸ºå…¬é’¥éšä¾¿å–ä¸ªåå­—;
6. åœ¨ Key çª—å£ç²˜è´´å‰é¢å¤åˆ¶çš„ `your-key-name.pub` å†…çš„å†…å®¹;
7. ç‚¹å‡»æŒ‰é’® `Add SSH key`.


![](./add-ssh-key-to-github.png)

<p align="center">
Figure 1. å¦‚ä½•ç»™ GitHub æ·»åŠ  SSH å…¬é’¥
</p>

å›åˆ°ç”µè„‘, ä»»æ„ä½ç½®æ‰“å¼€ç»ˆç«¯, è¾“å…¥ä»¥ä¸‹å‘½ä»¤æµ‹è¯•å’Œ github çš„ ssh è¿æ¥:

```
ssh -T git@github.com
```


ç»ˆç«¯æç¤ºè¾“å…¥å¯†ç , è¾“å…¥åˆšæ‰è®¾ç½®çš„å¯†ç .
  
**ç»ˆç«¯æç¤ºè¯¥å¯†é’¥è¿˜æ²¡è¢«æˆæƒ (Authenticate), è¯¢é—®å¦æˆæƒ; è¾“å…¥ `yes` åå†å›è½¦**.

æ¥ç€ä¼šæœ‰ç±»ä¼¼äº: `Hi jamesnulliu! You've successfully authenticated, but GitHub does not provide shell access.` çš„æç¤º.

## 5. è¿›é˜¶: ä¸ºæŸä¸ªå‚¨å­˜åº“æ·»åŠ  Deploy Key

To do ...